
<!DOCTYPE html>
  <head>
    <title>Transit Arrivals using GRID-BOOTSTRAP</title>
    <link href="stylesheets/grid.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js">
    </script>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js">
    </script>

    <link rel="stylesheet" href="stylesheets/naveed.css">

    <!--<script link src="naveed.js">-->
    </script>

  </head>
  <body>
    <nav class="col-xs-12 col-md-12">
        <ul class="nav navbar-nav ">
          <li ><a href="#">Home</a></li>
          <li ><a href="#">About</a></li>
          <li ><a href="#">Contact</a></li>
        </ul>
      <header> TRANSIT BUDDY
        <button type="submit" class="btn btn-lg btn-primary">SIGN IN</button>
        <button type="submit" class="btn btn-lg btn-primary">SIGN UP</button>
      </header>
    </nav>

      <div><img class="col-xs-12 col-md-6" src="images/future.jpg"></div>
      <div><img class="col-xs-12 col-md-6" src="images/future.jpg"></div>
      <div class="col-xs-12 col-md-12"> Please type route number to check for detour
        <form id="route">
          <input id ="userRequest" type="inputbox">
          <button id="print" type="click" class="btn btn-primary"><span class="glyphicon glyphicon-searc"></span> Search</button>
        </form>
      </div>

    <div id ="output1" class="col-xs-12 col-md-12 table table-striped">
      <table id="transit">
        <tr id="Detour">
          <td> Route </td>
          <td> Begin </td>
          <td> End </td>
          <td> Phonetic </td>
          <td> Intersection </td>
          <td> ID </td>
          <td> Also Effecting </td>
        </tr>
      </table>
    </div>
  <script>

  var userInput = document.getElementById('userRequest');
  userInput.value = localStorage.getItem('userRequest');


$('#print').on('click', function(){
  if (userInput.value){
 var url = "http://developer.trimet.org/ws/V1/detours?appID=26905EAEEBA02217C9448D594&JSON=true"+"&routes="+userInput.value;
} else {
  var url = "http://developer.trimet.org/ws/V1/detours?appID=26905EAEEBA02217C9448D594&JSON=true"
  }
      var tableEl = document.getElementById("transit");
      tableEl.style.display = "block";

  $.getJSON(url, function(data){
    for (var i =0; i< data.resultSet.detour.length;i++){
          var rowEl = document.createElement("tr");
          tableEl.appendChild(rowEl);
      for (var j=0;j<data.resultSet.detour[i].route.length;j++) {
          var routes = data.resultSet.detour[i].route[j].route;
          var idno = data.resultSet.detour[i].id;
          var start = data.resultSet.detour[i].begin;
          var end = data.resultSet.detour[i].end;
          var address = data.resultSet.detour[i].route[j].desc;
          var details = data.resultSet.detour[i].desc;

          var cellEl = document.createElement("td");
          cellEl.textContent = routes;
          rowEl.appendChild(cellEl);

          var cellEl = document.createElement("td");
          cellEl.textContent = start;
          rowEl.appendChild(cellEl);

          var cellEl = document.createElement("td");
          cellEl.textContent = end;
          rowEl.appendChild(cellEl);

          var cellEl = document.createElement("td");
          cellEl.textContent = details;
          rowEl.appendChild(cellEl);

          var cellEl = document.createElement("td");
          cellEl.textContent = address;
          rowEl.appendChild(cellEl);

          var cellEl = document.createElement("td");
          cellEl.textContent = idno;
          rowEl.appendChild(cellEl);
        }
     }
  });

})
</script>
</body>
</html>


